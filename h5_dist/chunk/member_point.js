(window.webpackJsonp=window.webpackJsonp||[]).push([[57],{"351":function(e,t,n){"use strict";n(4);var o=n(17),r=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),a=function get(e,t,n){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,t);if(void 0===o){var r=Object.getPrototypeOf(e);return null===r?void 0:get(r,t,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0};function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function step(o,r){try{var a=t[o](r),i=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(i).then(function(e){step("next",e)},function(e){step("throw",e)});e(i)}("next")})}}var i={"WILL_MOUNT":0,"DID_MOUNT":1,"DID_SHOW":2};function withLogin(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.WILL_MOUNT;return void 0!==i[t]?(console.warn("lifeCycle is not in defined types: "+t),function(e){return e}):function withLoginComponent(e){return function(n){function WithLogin(e){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,WithLogin),function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(WithLogin.__proto__||Object.getPrototypeOf(WithLogin)).call(this,e))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(WithLogin,e),r(WithLogin,[{"key":"componentWillMount","value":function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var e;return regeneratorRuntime.wrap(function _callee$(n){for(;;)switch(n.prev=n.next){case 0:if(t!==i.WILL_MOUNT){n.next=9;break}return n.next=3,this.$__autoLogin();case 3:if(n.sent){n.next=6;break}return n.abrupt("return");case 6:a(WithLogin.prototype.__proto__||Object.getPrototypeOf(WithLogin.prototype),"componentWillMount",this)&&a(WithLogin.prototype.__proto__||Object.getPrototypeOf(WithLogin.prototype),"componentWillMount",this).call(this),n.next=13;break;case 9:return n.next=11,this.$__autoLoginDone();case 11:e=n.sent,a(WithLogin.prototype.__proto__||Object.getPrototypeOf(WithLogin.prototype),"componentWillMount",this)&&e&&a(WithLogin.prototype.__proto__||Object.getPrototypeOf(WithLogin.prototype),"componentWillMount",this).call(this);case 13:case"end":return n.stop()}},_callee,this)}));return function componentWillMount(){return e.apply(this,arguments)}}()},{"key":"componentDidMount","value":function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(){var e;return regeneratorRuntime.wrap(function _callee2$(n){for(;;)switch(n.prev=n.next){case 0:if(t!==i.DID_MOUNT){n.next=9;break}return n.next=3,this.$__autoLogin();case 3:if(n.sent){n.next=6;break}return n.abrupt("return");case 6:a(WithLogin.prototype.__proto__||Object.getPrototypeOf(WithLogin.prototype),"componentDidMount",this)&&a(WithLogin.prototype.__proto__||Object.getPrototypeOf(WithLogin.prototype),"componentDidMount",this).call(this),n.next=13;break;case 9:return n.next=11,this.$__autoLoginDone();case 11:e=n.sent,a(WithLogin.prototype.__proto__||Object.getPrototypeOf(WithLogin.prototype),"componentDidMount",this)&&e&&a(WithLogin.prototype.__proto__||Object.getPrototypeOf(WithLogin.prototype),"componentDidMount",this).call(this);case 13:case"end":return n.stop()}},_callee2,this)}));return function componentDidMount(){return e.apply(this,arguments)}}()},{"key":"componentDidShow","value":function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(){var e;return regeneratorRuntime.wrap(function _callee3$(n){for(;;)switch(n.prev=n.next){case 0:if(t!==i.DID_SHOW){n.next=9;break}return n.next=3,this.$__autoLogin();case 3:if(n.sent){n.next=6;break}return n.abrupt("return");case 6:a(WithLogin.prototype.__proto__||Object.getPrototypeOf(WithLogin.prototype),"componentDidShow",this)&&a(WithLogin.prototype.__proto__||Object.getPrototypeOf(WithLogin.prototype),"componentDidShow",this).call(this),n.next=13;break;case 9:return n.next=11,this.$__autoLoginDone();case 11:e=n.sent,a(WithLogin.prototype.__proto__||Object.getPrototypeOf(WithLogin.prototype),"componentDidShow",this)&&e&&a(WithLogin.prototype.__proto__||Object.getPrototypeOf(WithLogin.prototype),"componentDidShow",this).call(this);case 13:case"end":return n.stop()}},_callee3,this)}));return function componentDidShow(){return e.apply(this,arguments)}}()},{"key":"$__autoLogin","value":function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee4(){var e;return regeneratorRuntime.wrap(function _callee4$(t){for(;;)switch(t.prev=t.next){case 0:return this.$__autoLogin_state="pending",e=void 0,t.prev=2,t.next=5,o.a.autoLogin(this);case 5:e=t.sent,this.$__autoLogin_state=e?"success":"fail",t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),this.$__autoLogin_state="fail";case 12:return t.abrupt("return",e);case 13:case"end":return t.stop()}},_callee4,this,[[2,9]])}));return function $__autoLogin(){return e.apply(this,arguments)}}()},{"key":"$__autoLoginDone","value":function $__autoLoginDone(){var e=void 0,t=8,n=this;return new Promise(function(o){!function next(){e&&clearTimeout(e),e=setTimeout(function(){var r=n.$__autoLogin_state;"success"===r||"fail"===r?(clearTimeout(e),e=null,o("success"===r)):t>0?(t--,next()):o(!1)},70)}()})}}]),WithLogin}()}}var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},c=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();function withPager(e){var t,n;return t=function(t){function WithPagerComponent(e){!function withPager_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,WithPagerComponent);var t=function withPager_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(WithPagerComponent.__proto__||Object.getPrototypeOf(WithPagerComponent)).call(this,e));n.call(t);var o=e||{},r=o.pageSize,a=void 0===r?10:r,i=o.pageNo,s=void 0===i?0:i,c=o.pageTotal,u={"hasNext":!0,"isLoading":!1,"total":void 0===c?0:c,"page_no":s,"page_size":a};return t.state.page=u,t}return function withPager_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(WithPagerComponent,e),c(WithPagerComponent,[{"key":"resetPage","value":function resetPage(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},t=s({},this.state.page||{},{"page_no":0,"total":0,"isLoading":!1,"hasNext":!0});this.setState({"page":t},e)}}]),WithPagerComponent}(),n=function _initialiseProps(){var e=this;this.nextPage=function withPager_asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function step(o,r){try{var a=t[o](r),i=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(i).then(function(e){step("next",e)},function(e){step("throw",e)});e(i)}("next")})}}(regeneratorRuntime.mark(function _callee(){var t,n,o,r,a,i;return regeneratorRuntime.wrap(function _callee$(c){for(;;)switch(c.prev=c.next){case 0:if((t=e.state.page).hasNext&&!t.isLoading){c.next=3;break}return c.abrupt("return");case 3:return t.isLoading=!0,e.setState({"page":t}),n=t.page_no,o=t.page_size,r=n+1,c.next=9,e.fetch({"page_no":r,"page_size":o});case 9:a=c.sent,(!(i=a.total)||r>=Math.ceil(+i/o))&&(t.hasNext=!1),e.setState({"page":s({},t,{"total":i,"page_no":r,"isLoading":!1})});case 13:case"end":return c.stop()}},_callee,e)}))},t}var u=n(14),p=n(46),l=n.n(p),f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};function withBackToTop(e){return function(t){function WithBackToTopComponent(e){!function withBackToTop_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,WithBackToTopComponent);var t=function withBackToTop_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(WithBackToTopComponent.__proto__||Object.getPrototypeOf(WithBackToTopComponent)).call(this,e));return t.scrollBackToTop=function(){t.setState({"scrollTop":1},function(){})},t.handleScroll=l()(function(e){var n=e.detail,o=n.scrollTop;n.scrollHeight<600||(o>300&&!t.state.showBackToTop?(u.m.debug("[BackToTop] showBackToTop, scrollTop: "+o),t.setState({"showBackToTop":!0})):t.state.showBackToTop&&o<=300&&(u.m.debug("[BackToTop] hideBackToTop, scrollTop: "+o),t.setState({"showBackToTop":!1})))},70),t.state=f({},t.state,{"scrollTop":null,"showBackToTop":!1}),t}return function withBackToTop_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(WithBackToTopComponent,e),WithBackToTopComponent}()}n.d(t,"b",function(){return withLogin}),n.d(t,"c",function(){return withPager}),n.d(t,"a",function(){return withBackToTop})},"405":function(e,t,n){"use strict";var o=n(4),r=n.n(o),a=n(3),i=n(735),s=n(455),c=n(546),u=n(349),p=n.n(u),l=n(45),f=n.n(l),h=n(348),g=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();var m=function(e){function AtLoading(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,AtLoading),function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(AtLoading.__proto__||Object.getPrototypeOf(AtLoading)).apply(this,arguments))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(AtLoading,h["a"]),g(AtLoading,[{"key":"render","value":function render(){var e=this.props,t=e.color,n=e.size,o={"width":n?""+a.a.pxTransform(parseInt(n)):"","height":n?""+a.a.pxTransform(parseInt(n)):""},s={"border":t?"1px solid "+t:"","border-color":t?t+" transparent transparent transparent":""},c=Object.assign({},s,o);return r.a.createElement(i.a,{"className":"at-loading","style":o},r.a.createElement(i.a,{"className":"at-loading__ring","style":c}),r.a.createElement(i.a,{"className":"at-loading__ring","style":c}),r.a.createElement(i.a,{"className":"at-loading__ring","style":c}))}}]),AtLoading}();m.defaultProps={"size":0,"color":""},m.propTypes={"size":p.a.oneOfType([p.a.string,p.a.number]),"color":p.a.oneOfType([p.a.string,p.a.number])},n.d(t,"a",function(){return d});var y=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{"value":n,"enumerable":!0,"configurable":!0,"writable":!0}):e[t]=n,e}var _={"normal":"normal","small":"small"},b={"primary":"primary","secondary":"secondary"},d=function(e){function AtButton(){!function button_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,AtButton);var e=function button_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(AtButton.__proto__||Object.getPrototypeOf(AtButton)).apply(this,arguments));return e.state={"isWEB":a.a.getEnv()===a.a.ENV_TYPE.WEB,"isWEAPP":a.a.getEnv()===a.a.ENV_TYPE.WEAPP,"isALIPAY":a.a.getEnv()===a.a.ENV_TYPE.ALIPAY},e}return function button_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(AtButton,h["a"]),y(AtButton,[{"key":"onClick","value":function onClick(){var e;this.props.disabled||this.props.onClick&&(e=this.props).onClick.apply(e,arguments)}},{"key":"onGetUserInfo","value":function onGetUserInfo(){var e;this.props.onGetUserInfo&&(e=this.props).onGetUserInfo.apply(e,arguments)}},{"key":"onContact","value":function onContact(){var e;this.props.onContact&&(e=this.props).onContact.apply(e,arguments)}},{"key":"onGetPhoneNumber","value":function onGetPhoneNumber(){var e;this.props.onGetPhoneNumber&&(e=this.props).onGetPhoneNumber.apply(e,arguments)}},{"key":"onError","value":function onError(){var e;this.props.onError&&(e=this.props).onError.apply(e,arguments)}},{"key":"onOpenSetting","value":function onOpenSetting(){var e;this.props.onOpenSetting&&(e=this.props).onOpenSetting.apply(e,arguments)}},{"key":"onSumit","value":function onSumit(){this.state.isWEAPP&&this.$scope.triggerEvent("submit",arguments[0].detail,{"bubbles":!0,"composed":!0})}},{"key":"onReset","value":function onReset(){this.state.isWEAPP&&this.$scope.triggerEvent("reset",arguments[0].detail,{"bubbles":!0,"composed":!0})}},{"key":"render","value":function render(){var e,t=this.props,n=t.size,o=void 0===n?"normal":n,a=t.type,u=void 0===a?"":a,p=t.circle,l=t.full,h=t.loading,g=t.disabled,y=t.customStyle,d=t.formType,v=t.openType,P=t.lang,O=t.sessionFrom,w=t.sendMessageTitle,T=t.sendMessagePath,k=t.sendMessageImg,E=t.showMessageCard,C=t.appParameter,L=this.state,j=L.isWEAPP,W=L.isALIPAY,x=["at-button"],N=(_defineProperty(e={},"at-button--"+_[o],_[o]),_defineProperty(e,"at-button--disabled",g),_defineProperty(e,"at-button--"+u,b[u]),_defineProperty(e,"at-button--circle",p),_defineProperty(e,"at-button--full",l),e),S="primary"===u?"#fff":"",A="small"===o?"30":0,D=void 0;h&&(D=r.a.createElement(i.a,{"className":"at-button__icon"},r.a.createElement(m,{"color":S,"size":A})),x.push("at-button--icon"));var M=r.a.createElement(s.a,{"className":"at-button__wxbutton","formType":d,"openType":v,"lang":P,"sessionFrom":O,"sendMessageTitle":w,"sendMessagePath":T,"sendMessageImg":k,"showMessageCard":E,"appParameter":C,"onGetUserInfo":this.onGetUserInfo.bind(this),"onGetPhoneNumber":this.onGetPhoneNumber.bind(this),"onOpenSetting":this.onOpenSetting.bind(this),"onError":this.onError.bind(this),"onContact":this.onContact.bind(this)});return r.a.createElement(i.a,{"className":f()(x,N,this.props.className),"style":y,"onClick":this.onClick.bind(this)},j&&!g&&r.a.createElement(c.a,{"reportSubmit":!0,"onSubmit":this.onSumit.bind(this),"onReset":this.onReset.bind(this)},M),W&&!g&&M,D,r.a.createElement(i.a,{"className":"at-button__text"},this.props.children))}}]),AtButton}();d.defaultProps={"size":"normal","type":"","circle":!1,"full":!1,"loading":!1,"disabled":!1,"customStyle":{},"onClick":function onClick(){},"formType":"","openType":"","lang":"en","sessionFrom":"","sendMessageTitle":"","sendMessagePath":"","sendMessageImg":"","showMessageCard":!1,"appParameter":"","onGetUserInfo":function onGetUserInfo(){},"onContact":function onContact(){},"onGetPhoneNumber":function onGetPhoneNumber(){},"onError":function onError(){},"onOpenSetting":function onOpenSetting(){}},d.propTypes={"size":p.a.oneOf(["normal","small"]),"type":p.a.oneOf(["primary","secondary",""]),"circle":p.a.bool,"full":p.a.bool,"loading":p.a.bool,"disabled":p.a.bool,"onClick":p.a.func,"customStyle":p.a.oneOfType([p.a.object,p.a.string]),"formType":p.a.oneOf(["submit","reset",""]),"openType":p.a.oneOf(["contact","share","getUserInfo","getPhoneNumber","launchApp","openSetting","feedback","getRealnameAuthInfo",""]),"lang":p.a.string,"sessionFrom":p.a.string,"sendMessageTitle":p.a.string,"sendMessagePath":p.a.string,"sendMessageImg":p.a.string,"showMessageCard":p.a.bool,"appParameter":p.a.string,"onGetUserInfo":p.a.func,"onContact":p.a.func,"onGetPhoneNumber":p.a.func,"onError":p.a.func,"onOpenSetting":p.a.func}},"502":function(e,t,n){"use strict";n.d(t,"a",function(){return h});var o=n(4),r=n.n(o),a=n(3),i=n(735),s=n(349),c=n.n(s),u=n(45),p=n.n(u),l=n(348),f=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();var h=function(e){function AtDivider(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,AtDivider),function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(AtDivider.__proto__||Object.getPrototypeOf(AtDivider)).apply(this,arguments))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(AtDivider,l["a"]),f(AtDivider,[{"key":"render","value":function render(){var e=this.props,t=e.className,n=e.customStyle,o=e.content,s=e.height,c=e.fontColor,u=e.fontSize,l=e.lineColor,f={"height":s?""+a.a.pxTransform(s):""},h={"color":c,"font-size":u?""+a.a.pxTransform(u):""},g={"background-color":l};return r.a.createElement(i.a,{"className":p()("at-divider",t),"style":this.mergeStyle(f,n)},r.a.createElement(i.a,{"className":"at-divider__content","style":h},""===o?this.props.children:o),r.a.createElement(i.a,{"className":"at-divider__line","style":g}))}}]),AtDivider}();h.defaultProps={"content":"","height":0,"fontColor":"","fontSize":0,"lineColor":""},h.propTypes={"customStyle":c.a.oneOfType([c.a.object,c.a.string]),"className":c.a.oneOfType([c.a.array,c.a.string]),"content":c.a.string,"height":c.a.oneOfType([c.a.number,c.a.string]),"fontColor":c.a.string,"fontSize":c.a.oneOfType([c.a.number,c.a.string]),"lineColor":c.a.string}},"653":function(e,t,n){},"763":function(e,t,n){"use strict";n.r(t);var o,r,a,i=n(3),s=n(4),c=n.n(s),u=n(735),p=n(416),l=n(736),f=n(502),h=n(405),g=n(352),m=n(351),y=n(14),_=n(6),b=(n(653),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}),d=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}t.default=Object(m.c)((a=r=function(e){function Integral(e){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Integral);var t=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(Integral.__proto__||Object.getPrototypeOf(Integral)).call(this,e));return t.handleClickRoam=function(){i.a.navigateTo({"url":"/pages/index"})},t.state=b({},t.state,{"list":[],"isLoading":!1,"totalPoint":0}),t}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Integral,i["a"].Component),d(Integral,[{"key":"componentDidMount","value":function componentDidMount(){this.nextPage()}},{"key":"fetch","value":function(){var e=function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function step(o,r){try{var a=t[o](r),i=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(i).then(function(e){step("next",e)},function(e){step("throw",e)});e(i)}("next")})}}(regeneratorRuntime.mark(function _callee(e){var t,n,o,r,a,i,s,c;return regeneratorRuntime.wrap(function _callee$(u){for(;;)switch(u.prev=u.next){case 0:return n=(t=e).page_no,o=t.page_size,this.setState({"isLoading":!0}),e={"page":n,"size":o},u.next=5,_.a.member.pointList(e);case 5:return r=u.sent,a=r.list,i=r.total,s=r.remainpt,c=Object(y.q)(a,{"chngdate":function chngdate(e){var t=e.chngdate;return t.substring(0,4)+"-"+t.substring(4,6)+"-"+t.substring(6,8)},"point":"point","accfl":"accfl","chngpt":"chngpt","rsnnm":"rsnnm"}),this.setState({"list":[].concat(_toConsumableArray(this.state.list),_toConsumableArray(c)),"totalPoint":s}),u.abrupt("return",{"total":i});case 12:case"end":return u.stop()}},_callee,this)}));return function fetch(t){return e.apply(this,arguments)}}()},{"key":"render","value":function render(){var e=this.state,t=e.list,n=e.page,o=e.totalPoint;return c.a.createElement(u.a,{"className":"page-member-integral"},c.a.createElement(g.k,{"title":"积分","leftIconType":"chevron-left"}),c.a.createElement(u.a,{"className":"member-point__hd"},c.a.createElement(u.a,{"className":"member-point__hd_content"},c.a.createElement(p.a,{"className":"text-hd member-point__num"},o),c.a.createElement(p.a,{"className":"text-hd"},"积分"))),c.a.createElement(u.a,{"className":"member-point__content"},c.a.createElement(l.a,{"scrollY":!0,"className":"member-point__scroll","onScrollToLower":this.nextPage},c.a.createElement(f.a,{"fontColor":"#787878","lineColor":"#EFEFEF","content":"积分详情"}),t.map(function(e,t){return c.a.createElement(u.a,{"key":t},c.a.createElement(u.a,{"className":"point-item"},c.a.createElement(u.a,{"className":"point-item__title"},c.a.createElement(p.a,{"className":"point-item__title-name"},e.rsnnm),c.a.createElement(p.a,{"className":"point-item__num point-item__title_"+("106001"===e.accfl?"in":"out")},"106001"===e.accfl?"+":"-",e.chngpt)),c.a.createElement(u.a,{"className":"point-item__data"},e.chngdate)))}),n.isLoading&&c.a.createElement(g.j,null,"正在加载..."),!n.isLoading&&!n.hasNext&&!t.length&&c.a.createElement(u.a,null,c.a.createElement(g.r,{"className":"integral_empty","img":"integral_empty.png"},"赶快赚积分吧~"),c.a.createElement(u.a,{"className":"btns"},c.a.createElement(h.a,{"type":"primary","onClick":this.handleClickRoam},"随便逛逛"))))))}},{"key":"componentDidShow","value":function componentDidShow(){}}]),Integral}(),r.defaultProps={},o=a))||o}}]);