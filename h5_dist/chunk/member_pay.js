(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{"209":function(e,t,n){"use strict";n(2),n(3);var r=n(8),o=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),a=function get(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:get(o,t,n)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(n):void 0};function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function step(r,o){try{var a=t[r](o),i=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(i).then(function(e){step("next",e)},function(e){step("throw",e)});e(i)}("next")})}}var i={"WILL_MOUNT":0,"DID_MOUNT":1,"DID_SHOW":2};function withLogin(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.WILL_MOUNT;return void 0!==i[t]?(console.warn("lifeCycle is not in defined types: "+t),function(e){return e}):function withLoginComponent(e){return function(n){function WithLogin(e){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,WithLogin),function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(WithLogin.__proto__||Object.getPrototypeOf(WithLogin)).call(this,e))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(WithLogin,e),o(WithLogin,[{"key":"componentWillMount","value":function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:if(t!==i.WILL_MOUNT){e.next=6;break}return e.next=3,this.__autoLogin();case 3:if(e.sent){e.next=6;break}return e.abrupt("return");case 6:a(WithLogin.prototype.__proto__||Object.getPrototypeOf(WithLogin.prototype),"componentWillMount",this)&&a(WithLogin.prototype.__proto__||Object.getPrototypeOf(WithLogin.prototype),"componentWillMount",this).call(this);case 7:case"end":return e.stop()}},_callee,this)}));return function componentWillMount(){return e.apply(this,arguments)}}()},{"key":"componentDidMount","value":function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(){return regeneratorRuntime.wrap(function _callee2$(e){for(;;)switch(e.prev=e.next){case 0:if(t!==i.DID_MOUNT){e.next=6;break}return e.next=3,this.__autoLogin();case 3:if(e.sent){e.next=6;break}return e.abrupt("return");case 6:a(WithLogin.prototype.__proto__||Object.getPrototypeOf(WithLogin.prototype),"componentDidMount",this)&&a(WithLogin.prototype.__proto__||Object.getPrototypeOf(WithLogin.prototype),"componentDidMount",this).call(this);case 7:case"end":return e.stop()}},_callee2,this)}));return function componentDidMount(){return e.apply(this,arguments)}}()},{"key":"componentDidShow","value":function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(){return regeneratorRuntime.wrap(function _callee3$(e){for(;;)switch(e.prev=e.next){case 0:if(t!==i.DID_SHOW){e.next=6;break}return e.next=3,this.__autoLogin();case 3:if(e.sent){e.next=6;break}return e.abrupt("return");case 6:a(WithLogin.prototype.__proto__||Object.getPrototypeOf(WithLogin.prototype),"componentDidShow",this)&&a(WithLogin.prototype.__proto__||Object.getPrototypeOf(WithLogin.prototype),"componentDidShow",this).call(this);case 7:case"end":return e.stop()}},_callee3,this)}));return function componentDidShow(){return e.apply(this,arguments)}}()},{"key":"__autoLogin","value":function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee4(){return regeneratorRuntime.wrap(function _callee4$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.a.autoLogin(this);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},_callee4,this)}));return function __autoLogin(){return e.apply(this,arguments)}}()}]),WithLogin}()}}var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();function withPager(e){var t,n;return t=function(t){function WithPagerComponent(e){!function withPager_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,WithPagerComponent);var t=function withPager_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(WithPagerComponent.__proto__||Object.getPrototypeOf(WithPagerComponent)).call(this,e));n.call(t);var r=e||{},o=r.pageSize,a=void 0===o?10:o,i=r.pageNo,c=void 0===i?0:i,s=r.pageTotal,l={"hasNext":!0,"isLoading":!1,"total":void 0===s?0:s,"page_no":c,"page_size":a};return t.state.page=l,t}return function withPager_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(WithPagerComponent,e),s(WithPagerComponent,[{"key":"resetPage","value":function resetPage(){var e=c({},this.state.page||{},{"page_no":0,"total":0,"isLoading":!1,"hasNext":!0});this.setState({"page":e})}}]),WithPagerComponent}(),n=function _initialiseProps(){var e=this;this.nextPage=function withPager_asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function step(r,o){try{var a=t[r](o),i=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(i).then(function(e){step("next",e)},function(e){step("throw",e)});e(i)}("next")})}}(regeneratorRuntime.mark(function _callee(){var t,n,r,o,a,i;return regeneratorRuntime.wrap(function _callee$(s){for(;;)switch(s.prev=s.next){case 0:if((t=e.state.page).hasNext){s.next=3;break}return s.abrupt("return");case 3:return t.isLoading=!0,e.setState({"page":t}),n=t.page_no,r=t.page_size,o=n+1,s.next=9,e.fetch({"page_no":o,"page_size":r});case 9:a=s.sent,(!(i=a.total)||o>=Math.ceil(+i/r))&&(t.hasNext=!1),e.setState({"page":c({},t,{"total":i,"page_no":o,"isLoading":!1})});case 13:case"end":return s.stop()}},_callee,e)}))},t}var l=n(28),u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function withBackToTop(e){return function(t){function WithBackToTopComponent(e){!function withBackToTop_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,WithBackToTopComponent);var t=function withBackToTop_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(WithBackToTopComponent.__proto__||Object.getPrototypeOf(WithBackToTopComponent)).call(this,e));return t.scrollBackToTop=function(){t.setState({"scrollTop":0},function(){t.setState({"scrollTop":null})})},t.handleScroll=function(e){var n=e.detail,r=n.scrollTop;n.scrollHeight<600||(r>300&&!t.state.showBackToTop?(l.i.debug("[BackToTop] showBackToTop, scrollTop: "+r),t.setState({"showBackToTop":!0})):t.state.showBackToTop&&r<=300&&(l.i.debug("[BackToTop] hideBackToTop, scrollTop: "+r),t.setState({"showBackToTop":!1})))},t.state=u({},t.state,{"scrollTop":null,"showBackToTop":!1}),t}return function withBackToTop_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(WithBackToTopComponent,e),WithBackToTopComponent}()}n.d(t,"b",function(){return withLogin}),n.d(t,"c",function(){return withPager}),n.d(t,"a",function(){return withBackToTop})},"437":function(e,t,n){},"553":function(e,t,n){"use strict";n.r(t);var r=n(2),o=n.n(r),a=n(3),i=n.n(a),c=n(600),s=n(49),l=n(208),u=n.n(l),p=n(42),f=n.n(p),h=n(206),y=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{"value":n,"enumerable":!0,"configurable":!0,"writable":!0}):e[t]=n,e}var m={"normal":"normal","small":"small"},_={"primary":"primary"},g=function(e){function AtTag(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,AtTag);var e=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(AtTag.__proto__||Object.getPrototypeOf(AtTag)).apply(this,arguments));return e.state={},e}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(AtTag,h["a"]),y(AtTag,[{"key":"onClick","value":function onClick(){this.props.disabled||this.props.onClick&&this.props.onClick({"name":this.props.name,"active":this.props.active})}},{"key":"render","value":function render(){var e,t=this.props,n=t.size,r=void 0===n?"normal":n,o=t.type,a=void 0===o?"":o,s=t.circle,l=void 0!==s&&s,u=t.disabled,p=void 0!==u&&u,h=t.active,y=void 0!==h&&h,g=t.customStyle,b=(_defineProperty(e={},"at-tag--"+m[r],m[r]),_defineProperty(e,"at-tag--"+a,_[a]),_defineProperty(e,"at-tag--disabled",p),_defineProperty(e,"at-tag--active",y),_defineProperty(e,"at-tag--circle",l),e);return i.a.createElement(c.a,{"className":f()(["at-tag"],b,this.props.className),"style":g,"onClick":this.onClick.bind(this)},this.props.children)}}]),AtTag}();g.defaultProps={"size":"normal","type":"","name":"","circle":!1,"active":!1,"disabled":!1,"customStyle":{},"onClick":function onClick(){}},g.propTypes={"size":u.a.oneOf(["normal","small"]),"type":u.a.oneOf(["","primary"]),"name":u.a.string,"circle":u.a.bool,"active":u.a.bool,"disabled":u.a.bool,"customStyle":u.a.oneOfType([u.a.object,u.a.string]),"onClick":u.a.func};var b,d=n(554),v=n(209),w=n(29),T=n(28),P=(n(437),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}),O=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function step(r,o){try{var a=t[r](o),i=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(i).then(function(e){step("next",e)},function(e){step("throw",e)});e(i)}("next")})}}t.default=Object(v.c)(b=function(e){function Pay(e){var t=this;!function pay_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Pay);var n=function pay_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(Pay.__proto__||Object.getPrototypeOf(Pay)).call(this,e));return n.handleClickTag=function(e,t,r){n.setState({"isActiveName":r.name,"ruleData":e,"ruleType":t})},n.handleClickPay=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var e;return regeneratorRuntime.wrap(function _callee$(t){for(;;)switch(t.prev=t.next){case 0:return e={"total_fee":n.state.isActiveName},o.a.showLoading({"title":"生成订单中","mask":!0}),t.next=4,w.a.member.depositPay(e).then(function(e){o.a.hideLoading(),o.a.navigateTo({"url":"/pages/cashier/index?order_id="+e.order_id})});case 4:case"end":return t.stop()}},_callee,t)})),n.state=P({},n.state,{"list":[],"isLoading":!1,"isActiveName":"","totalDeposit":0}),n}return function pay_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Pay,r["Component"]),O(Pay,[{"key":"componentDidMount","value":function componentDidMount(){this.fetch()}},{"key":"fetch","value":function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(){var e,t,n,r,o,a;return regeneratorRuntime.wrap(function _callee2$(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,w.a.member.getRechargeNumber();case 2:return e=i.sent,t=e.list,n=e.total_count,i.next=7,w.a.member.depositTotal();case 7:return r=i.sent,o=r.deposit,a=Object(T.k)(t,{"money":"money","ruleData":"ruleData","ruleType":"ruleType"}),this.setState({"list":[].concat(_toConsumableArray(this.state.list),_toConsumableArray(a)),"totalDeposit":o}),i.abrupt("return",{"total":n});case 12:case"end":return i.stop()}},_callee2,this)}));return function fetch(){return e.apply(this,arguments)}}()},{"key":"render","value":function render(){var e=this,t=this.state,n=t.list,r=t.isActiveName,o=t.ruleType,a=t.ruleData,l=t.totalDeposit;return i.a.createElement(c.a,{"className":"page-member-integral"},i.a.createElement(c.a,{"className":"member-integral__hd"},i.a.createElement(c.a,{"className":"integral-info"},i.a.createElement(c.a,{"className":"integral-number"},i.a.createElement(s.a,{"className":"sp-icon sp-icon-zijin icon-point"}," "),i.a.createElement(s.a,{"className":"integral-number__text"},l)),i.a.createElement(c.a,{"className":"integral-text"},"当前账户余额"))),i.a.createElement(c.a,{"className":"member-integral__bd"},i.a.createElement(c.a,{"className":"integral-sec integral-info__status"},i.a.createElement(c.a,{"className":"integral-sec__share"},"点击“立即充值”即表示阅读并同意",i.a.createElement(s.a,null,"《充值协议》"))),i.a.createElement(c.a,{"className":"integral-sec member-pay"},n.length>0?i.a.createElement(c.a,{"className":"member-pay__list"},n.map(function(t,n){return i.a.createElement(g,{"className":Object(T.a)("member-pay__list-item",t.money===r?"member-pay__list-active":null),"key":n,"name":t.money,"active":t.money===r,"onClick":e.handleClickTag.bind(e,t.ruleData,t.ruleType)},t.money)}),i.a.createElement(c.a,{"className":"otherNumber"}," "),i.a.createElement(c.a,{"className":"otherNumber"}," "),i.a.createElement(c.a,{"className":"otherNumber"}," "),a>0?i.a.createElement(c.a,{"className":"extra-regard"},"额外奖励：",i.a.createElement(s.a,{"className":"extra-regard__Text"},"充值",r,"元送",a,"point"===o?"积分":"元")):null):null,i.a.createElement(c.a,{"className":"btns"},i.a.createElement(d.a,{"type":"primary","onClick":this.handleClickPay},"立即充值")))))}},{"key":"componentDidShow","value":function componentDidShow(){}}]),Pay}())||b}}]);