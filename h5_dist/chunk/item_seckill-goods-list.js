(window.webpackJsonp=window.webpackJsonp||[]).push([[44],{"351":function(t,e,n){"use strict";n(4);var o=n(17),r=function(){function defineProperties(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(t,e,n){return e&&defineProperties(t.prototype,e),n&&defineProperties(t,n),t}}(),i=function get(t,e,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,e);if(void 0===o){var r=Object.getPrototypeOf(t);return null===r?void 0:get(r,e,n)}if("value"in o)return o.value;var i=o.get;return void 0!==i?i.call(n):void 0};function _asyncToGenerator(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){return function step(o,r){try{var i=e[o](r),a=i.value}catch(t){return void n(t)}if(!i.done)return Promise.resolve(a).then(function(t){step("next",t)},function(t){step("throw",t)});t(a)}("next")})}}var a={"WILL_MOUNT":0,"DID_MOUNT":1,"DID_SHOW":2};function withLogin(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.WILL_MOUNT;return void 0!==a[e]?(console.warn("lifeCycle is not in defined types: "+e),function(t){return t}):function withLoginComponent(t){return function(n){function WithLogin(t){return function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,WithLogin),function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(WithLogin.__proto__||Object.getPrototypeOf(WithLogin)).call(this,t))}return function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{"constructor":{"value":t,"enumerable":!1,"writable":!0,"configurable":!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(WithLogin,t),r(WithLogin,[{"key":"componentWillMount","value":function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var t;return regeneratorRuntime.wrap(function _callee$(n){for(;;)switch(n.prev=n.next){case 0:if(e!==a.WILL_MOUNT){n.next=9;break}return n.next=3,this.$__autoLogin();case 3:if(n.sent){n.next=6;break}return n.abrupt("return");case 6:i(WithLogin.prototype.__proto__||Object.getPrototypeOf(WithLogin.prototype),"componentWillMount",this)&&i(WithLogin.prototype.__proto__||Object.getPrototypeOf(WithLogin.prototype),"componentWillMount",this).call(this),n.next=13;break;case 9:return n.next=11,this.$__autoLoginDone();case 11:t=n.sent,i(WithLogin.prototype.__proto__||Object.getPrototypeOf(WithLogin.prototype),"componentWillMount",this)&&t&&i(WithLogin.prototype.__proto__||Object.getPrototypeOf(WithLogin.prototype),"componentWillMount",this).call(this);case 13:case"end":return n.stop()}},_callee,this)}));return function componentWillMount(){return t.apply(this,arguments)}}()},{"key":"componentDidMount","value":function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(){var t;return regeneratorRuntime.wrap(function _callee2$(n){for(;;)switch(n.prev=n.next){case 0:if(e!==a.DID_MOUNT){n.next=9;break}return n.next=3,this.$__autoLogin();case 3:if(n.sent){n.next=6;break}return n.abrupt("return");case 6:i(WithLogin.prototype.__proto__||Object.getPrototypeOf(WithLogin.prototype),"componentDidMount",this)&&i(WithLogin.prototype.__proto__||Object.getPrototypeOf(WithLogin.prototype),"componentDidMount",this).call(this),n.next=13;break;case 9:return n.next=11,this.$__autoLoginDone();case 11:t=n.sent,i(WithLogin.prototype.__proto__||Object.getPrototypeOf(WithLogin.prototype),"componentDidMount",this)&&t&&i(WithLogin.prototype.__proto__||Object.getPrototypeOf(WithLogin.prototype),"componentDidMount",this).call(this);case 13:case"end":return n.stop()}},_callee2,this)}));return function componentDidMount(){return t.apply(this,arguments)}}()},{"key":"componentDidShow","value":function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(){var t;return regeneratorRuntime.wrap(function _callee3$(n){for(;;)switch(n.prev=n.next){case 0:if(e!==a.DID_SHOW){n.next=9;break}return n.next=3,this.$__autoLogin();case 3:if(n.sent){n.next=6;break}return n.abrupt("return");case 6:i(WithLogin.prototype.__proto__||Object.getPrototypeOf(WithLogin.prototype),"componentDidShow",this)&&i(WithLogin.prototype.__proto__||Object.getPrototypeOf(WithLogin.prototype),"componentDidShow",this).call(this),n.next=13;break;case 9:return n.next=11,this.$__autoLoginDone();case 11:t=n.sent,i(WithLogin.prototype.__proto__||Object.getPrototypeOf(WithLogin.prototype),"componentDidShow",this)&&t&&i(WithLogin.prototype.__proto__||Object.getPrototypeOf(WithLogin.prototype),"componentDidShow",this).call(this);case 13:case"end":return n.stop()}},_callee3,this)}));return function componentDidShow(){return t.apply(this,arguments)}}()},{"key":"$__autoLogin","value":function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function _callee4(){var t;return regeneratorRuntime.wrap(function _callee4$(e){for(;;)switch(e.prev=e.next){case 0:return this.$__autoLogin_state="pending",t=void 0,e.prev=2,e.next=5,o.a.autoLogin(this);case 5:t=e.sent,this.$__autoLogin_state=t?"success":"fail",e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),this.$__autoLogin_state="fail";case 12:return e.abrupt("return",t);case 13:case"end":return e.stop()}},_callee4,this,[[2,9]])}));return function $__autoLogin(){return t.apply(this,arguments)}}()},{"key":"$__autoLoginDone","value":function $__autoLoginDone(){var t=void 0,e=8,n=this;return new Promise(function(o){!function next(){t&&clearTimeout(t),t=setTimeout(function(){var r=n.$__autoLogin_state;"success"===r||"fail"===r?(clearTimeout(t),t=null,o("success"===r)):e>0?(e--,next()):o(!1)},70)}()})}}]),WithLogin}()}}var c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},s=function(){function defineProperties(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(t,e,n){return e&&defineProperties(t.prototype,e),n&&defineProperties(t,n),t}}();function withPager(t){var e,n;return e=function(e){function WithPagerComponent(t){!function withPager_classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,WithPagerComponent);var e=function withPager_possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(WithPagerComponent.__proto__||Object.getPrototypeOf(WithPagerComponent)).call(this,t));n.call(e);var o=t||{},r=o.pageSize,i=void 0===r?10:r,a=o.pageNo,c=void 0===a?0:a,s=o.pageTotal,u={"hasNext":!0,"isLoading":!1,"total":void 0===s?0:s,"page_no":c,"page_size":i};return e.state.page=u,e}return function withPager_inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{"constructor":{"value":t,"enumerable":!1,"writable":!0,"configurable":!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(WithPagerComponent,t),s(WithPagerComponent,[{"key":"resetPage","value":function resetPage(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},e=c({},this.state.page||{},{"page_no":0,"total":0,"isLoading":!1,"hasNext":!0});this.setState({"page":e},t)}}]),WithPagerComponent}(),n=function _initialiseProps(){var t=this;this.nextPage=function withPager_asyncToGenerator(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){return function step(o,r){try{var i=e[o](r),a=i.value}catch(t){return void n(t)}if(!i.done)return Promise.resolve(a).then(function(t){step("next",t)},function(t){step("throw",t)});t(a)}("next")})}}(regeneratorRuntime.mark(function _callee(){var e,n,o,r,i,a;return regeneratorRuntime.wrap(function _callee$(s){for(;;)switch(s.prev=s.next){case 0:if((e=t.state.page).hasNext&&!e.isLoading){s.next=3;break}return s.abrupt("return");case 3:return e.isLoading=!0,t.setState({"page":e}),n=e.page_no,o=e.page_size,r=n+1,s.next=9,t.fetch({"page_no":r,"page_size":o});case 9:i=s.sent,(!(a=i.total)||r>=Math.ceil(+a/o))&&(e.hasNext=!1),t.setState({"page":c({},e,{"total":a,"page_no":r,"isLoading":!1})});case 13:case"end":return s.stop()}},_callee,t)}))},e}var u=n(14),l=n(46),p=n.n(l),f=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t};function withBackToTop(t){return function(e){function WithBackToTopComponent(t){!function withBackToTop_classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,WithBackToTopComponent);var e=function withBackToTop_possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(WithBackToTopComponent.__proto__||Object.getPrototypeOf(WithBackToTopComponent)).call(this,t));return e.scrollBackToTop=function(){e.setState({"scrollTop":1},function(){})},e.handleScroll=p()(function(t){var n=t.detail,o=n.scrollTop;n.scrollHeight<600||(o>300&&!e.state.showBackToTop?(u.m.debug("[BackToTop] showBackToTop, scrollTop: "+o),e.setState({"showBackToTop":!0})):e.state.showBackToTop&&o<=300&&(u.m.debug("[BackToTop] hideBackToTop, scrollTop: "+o),e.setState({"showBackToTop":!1})))},70),e.state=f({},e.state,{"scrollTop":null,"showBackToTop":!1}),e}return function withBackToTop_inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{"constructor":{"value":t,"enumerable":!1,"writable":!0,"configurable":!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(WithBackToTopComponent,t),WithBackToTopComponent}()}n.d(e,"b",function(){return withLogin}),n.d(e,"c",function(){return withPager}),n.d(e,"a",function(){return withBackToTop})},"481":function(t,e,n){"use strict";var o=n(4),r=n.n(o),i=n(349),a=n.n(i),c=n(735),s=n(45),u=n.n(s),l=n(348),p=n(416),f=function(){function defineProperties(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(t,e,n){return e&&defineProperties(t.prototype,e),n&&defineProperties(t,n),t}}();var h=function(t){function AtCountdownItem(){return function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,AtCountdownItem),function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(AtCountdownItem.__proto__||Object.getPrototypeOf(AtCountdownItem)).apply(this,arguments))}return function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{"constructor":{"value":t,"enumerable":!1,"writable":!0,"configurable":!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(AtCountdownItem,l["a"]),f(AtCountdownItem,[{"key":"formatNum","value":function formatNum(t){return t<=9?"0"+t:""+t}},{"key":"render","value":function render(){var t=this.props,e=t.num,n=t.separator;return r.a.createElement(c.a,{"className":"at-countdown__item"},r.a.createElement(c.a,{"className":"at-countdown__time-box"},r.a.createElement(p.a,{"className":"at-countdown__time"},this.formatNum(e))),r.a.createElement(p.a,{"className":"at-countdown__separator"},n))}}]),AtCountdownItem}();h.defaultProps={"num":0,"separator":":"},h.propTypes={"num":a.a.number.isRequired,"separator":a.a.string};var m=h;n.d(e,"a",function(){return d});var _=function(){function defineProperties(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(t,e,n){return e&&defineProperties(t.prototype,e),n&&defineProperties(t,n),t}}();var y=function toSeconds(t,e,n,o){return 60*t*60*24+60*e*60+60*n+o},d=function(t){function AtCountdown(){!function countdown_classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,AtCountdown);var t=function countdown_possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(AtCountdown.__proto__||Object.getPrototypeOf(AtCountdown)).apply(this,arguments)),e=t.props,n=e.day,o=e.hours,r=e.minutes,i=e.seconds;return t.seconds=y(n,o,r,i),t.state={"_day":n,"_hours":o,"_minutes":r,"_seconds":i},t.timer=null,t}return function countdown_inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{"constructor":{"value":t,"enumerable":!1,"writable":!0,"configurable":!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(AtCountdown,l["a"]),_(AtCountdown,[{"key":"setTimer","value":function setTimer(){this.timer||this.countdonwn()}},{"key":"clearTimer","value":function clearTimer(){this.timer&&(clearTimeout(this.timer),this.timer=null)}},{"key":"countdonwn","value":function countdonwn(){var t=this,e=0,n=0,o=0,r=0;if(this.seconds>0&&(e=Math.floor(this.seconds/86400),n=Math.floor(this.seconds/3600)-24*e,o=Math.floor(this.seconds/60)-24*e*60-60*n,r=Math.floor(this.seconds)-24*e*60*60-60*n*60-60*o),this.setState({"_day":e,"_hours":n,"_minutes":o,"_seconds":r}),this.seconds--,this.seconds<0)return this.clearTimer(),void this.props.onTimeUp();this.timer=setTimeout(function(){t.countdonwn()},1e3)}},{"key":"componentWillReceiveProps","value":function componentWillReceiveProps(t){if(JSON.stringify(this.props)!==JSON.stringify(t)){var e=t.day,n=t.hours,o=t.minutes,r=t.seconds;this.seconds=y(e,n,o,r),this.clearTimer(),this.setTimer()}}},{"key":"componentDidMount","value":function componentDidMount(){this.setTimer()}},{"key":"componentWillUnmount","value":function componentWillUnmount(){this.clearTimer()}},{"key":"componentDidHide","value":function componentDidHide(){this.clearTimer()}},{"key":"componentDidShow","value":function componentDidShow(){this.setTimer()}},{"key":"render","value":function render(){var t=this.props,e=t.className,n=t.customStyle,o=t.format,i=t.isShowDay,a=t.isCard,s=this.state,l=s._day,p=s._hours,f=s._minutes,h=s._seconds;return r.a.createElement(c.a,{"className":u()({"at-countdown":!0,"at-countdown--card":a},e),"style":n},i&&r.a.createElement(m,{"num":l,"separator":o.day}),r.a.createElement(m,{"num":p,"separator":o.hours}),r.a.createElement(m,{"num":f,"separator":o.minutes}),r.a.createElement(m,{"num":h,"separator":o.seconds}))}}]),AtCountdown}();d.defaultProps={"customStyle":"","className":"","isCard":!1,"isShowDay":!1,"format":{"day":"天","hours":"时","minutes":"分","seconds":"秒"},"day":0,"hours":0,"minutes":0,"seconds":0,"onTimeUp":function onTimeUp(){}},d.propTypes={"customStyle":a.a.oneOfType([a.a.object,a.a.string]),"className":a.a.oneOfType([a.a.array,a.a.string]),"isCard":a.a.bool,"isShowDay":a.a.bool,"format":a.a.object,"day":a.a.number,"hours":a.a.number,"minutes":a.a.number,"seconds":a.a.number,"onTimeUp":a.a.func}},"583":function(t,e,n){},"750":function(t,e,n){"use strict";n.r(e);var o,r=n(3),i=n(4),a=n.n(i),c=n(735),s=n(736),u=n(475),l=n(351),p=n(352),f=n(481),h=(n(583),Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t}),m=function(){function defineProperties(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(t,e,n){return e&&defineProperties(t.prototype,e),n&&defineProperties(t,n),t}}();e.default=Object(l.c)(o=Object(l.a)(o=function(t){function SeckillGoodsList(t){!function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,SeckillGoodsList);var e=function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(SeckillGoodsList.__proto__||Object.getPrototypeOf(SeckillGoodsList)).call(this,t));return e.config={"navigationBarTitleText":"限时秒杀"},e.state=h({},e.state,{"query":null,"last_seconds":1759242,"timer":null,"list":[{"last_seconds":1759242,"img":"http://mmbiz.qpic.cn/mmbiz_jpg/1nDJByqmW2f7v2eYIjM9lKBnyGsyZyCUDmZEE648cE7VZlvlNkFJMQcic6VtG6YnElMYJzWV2nJDtFU09xibhxgg/0?wx_fmt=jpeg"},{"last_seconds":1775245,"img":"http://mmbiz.qpic.cn/mmbiz_jpg/1nDJByqmW2f7v2eYIjM9lKBnyGsyZyCUDmZEE648cE7VZlvlNkFJMQcic6VtG6YnElMYJzWV2nJDtFU09xibhxgg/0?wx_fmt=jpeg"}],"imgurl":"http://mmbiz.qpic.cn/mmbiz_jpg/1nDJByqmW2f7v2eYIjM9lKBnyGsyZyCUDmZEE648cE7VZlvlNkFJMQcic6VtG6YnElMYJzWV2nJDtFU09xibhxgg/0?wx_fmt=jpeg"}),e}return function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{"constructor":{"value":t,"enumerable":!1,"writable":!0,"configurable":!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(SeckillGoodsList,r["a"].Component),m(SeckillGoodsList,[{"key":"componentDidMount","value":function componentDidMount(){this.fetch()}},{"key":"calcTimer","value":function calcTimer(t){var e=t;e-=3600*Math.floor(t/24/3600)*24,e-=3600*Math.floor(e/3600);var n=Math.floor(e/60);return e-=60*n,{"mm":n,"ss":Math.floor(e)}}},{"key":"fetch","value":function(){var t=function _asyncToGenerator(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){return function step(o,r){try{var i=e[o](r),a=i.value}catch(t){return void n(t)}if(!i.done)return Promise.resolve(a).then(function(t){step("next",t)},function(t){step("throw",t)});t(a)}("next")})}}(regeneratorRuntime.mark(function _callee(t){var e,n,o;return regeneratorRuntime.wrap(function _callee$(t){for(;;)switch(t.prev=t.next){case 0:e=this.state,e.list,n=e.last_seconds,o=null,o=this.calcTimer(n),this.setState({"timer":o});case 4:case"end":return t.stop()}},_callee,this)}));return function fetch(e){return t.apply(this,arguments)}}()},{"key":"render","value":function render(){var t=this,e=this.state,n=e.list,o=e.imgurl,r=e.showBackToTop,i=e.scrollTop,l=(e.page,e.timer);return a.a.createElement(c.a,{"className":"page-seckill-goods"},a.a.createElement(s.a,{"className":"seckill-goods__scroll","scrollY":!0,"scrollTop":i,"scrollWithAnimation":!0,"onScroll":this.handleScroll},a.a.createElement(u.a,{"className":"seckill-goods__swiper","src":o,"mode":"widthFix"}),a.a.createElement(c.a,{"className":""},a.a.createElement(f.a,{"minutes":l.mm,"seconds":l.ss}),"后结束"),a.a.createElement(c.a,{"className":"seckill-goods__list"},n.map(function(e,n){return a.a.createElement(p.i,{"key":e.item_id,"info":e,"onClick":function onClick(){return t.handleClickItem(e)}})}))),a.a.createElement(p.b,{"show":r,"onClick":this.scrollBackToTop}))}},{"key":"componentDidShow","value":function componentDidShow(){}}]),SeckillGoodsList}())||o)||o}}]);