(window.webpackJsonp=window.webpackJsonp||[]).push([[82],{"467":function(e,t,n){"use strict";t.byteLength=function byteLength(e){var t=getLens(e),n=t[0],a=t[1];return 3*(n+a)/4-a},t.toByteArray=function toByteArray(e){for(var t,n=getLens(e),a=n[0],c=n[1],l=new s(function _byteLength(e,t,n){return 3*(t+n)/4-n}(0,a,c)),o=0,i=c>0?a-4:a,u=0;u<i;u+=4)t=r[e.charCodeAt(u)]<<18|r[e.charCodeAt(u+1)]<<12|r[e.charCodeAt(u+2)]<<6|r[e.charCodeAt(u+3)],l[o++]=t>>16&255,l[o++]=t>>8&255,l[o++]=255&t;2===c&&(t=r[e.charCodeAt(u)]<<2|r[e.charCodeAt(u+1)]>>4,l[o++]=255&t);1===c&&(t=r[e.charCodeAt(u)]<<10|r[e.charCodeAt(u+1)]<<4|r[e.charCodeAt(u+2)]>>2,l[o++]=t>>8&255,l[o++]=255&t);return l},t.fromByteArray=function fromByteArray(e){for(var t,n=e.length,r=n%3,s=[],c=0,l=n-r;c<l;c+=16383)s.push(encodeChunk(e,c,c+16383>l?l:c+16383));1===r?(t=e[n-1],s.push(a[t>>2]+a[t<<4&63]+"==")):2===r&&(t=(e[n-2]<<8)+e[n-1],s.push(a[t>>10]+a[t>>4&63]+a[t<<2&63]+"="));return s.join("")};for(var a=[],r=[],s="undefined"!=typeof Uint8Array?Uint8Array:Array,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l=0,o=c.length;l<o;++l)a[l]=c[l],r[c.charCodeAt(l)]=l;function getLens(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function encodeChunk(e,t,n){for(var r,s,c=[],l=t;l<n;l+=3)r=(e[l]<<16&16711680)+(e[l+1]<<8&65280)+(255&e[l+2]),c.push(a[(s=r)>>18&63]+a[s>>12&63]+a[s>>6&63]+a[63&s]);return c.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},"504":function(e,t,n){"use strict";n.d(t,"a",function(){return makePhoneCall});n(467);var a=n(0);function makePhoneCall(e){var t=Object(a.h)(e);if(!t.res){var n={"errMsg":"makePhoneCall"+t.msg};return console.error(n.errMsg),Promise.reject(n)}var r=e.phoneNumber,s=e.success,c=e.fail,l=e.complete,o={"errMsg":"makePhoneCall:ok"};return"string"!=typeof r?(o.errMsg=Object(a.b)({"name":"makePhoneCall","para":"phoneNumber","correct":"String","wrong":r}),console.error(o.errMsg),"function"==typeof c&&c(o),"function"==typeof l&&l(o),Promise.reject(o)):(window.location.href="tel:"+r,"function"==typeof s&&s(o),"function"==typeof l&&l(o),Promise.resolve(o))}},"725":function(e,t,n){},"802":function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return _});var a=n(346),r=n(504),s=n(3),c=n(4),l=n.n(c),o=n(735),i=n(416),u=n(35),f=n(14),d=n(352),m=n(6),h=(n(725),function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}());function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function step(a,r){try{var s=t[a](r),c=s.value}catch(e){return void n(e)}if(!s.done)return Promise.resolve(c).then(function(e){step("next",e)},function(e){step("throw",e)});e(c)}("next")})}}var _=function(e){function TradeRefundDetail(e){var t=this;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,TradeRefundDetail);var n,c=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(TradeRefundDetail.__proto__||Object.getPrototypeOf(TradeRefundDetail)).call(this,e));return c.handleBtnClick=(n=_asyncToGenerator(regeneratorRuntime.mark(function _callee(e){var n,l,o,i;return regeneratorRuntime.wrap(function _callee$(t){for(;;)switch(t.prev=t.next){case 0:if(n=c.state.info,l=n.aftersales_bn,o=n.order_id,i=n.item_id,"cancel"!==e){t.next=13;break}return Object(a.b)({"mask":!0}),t.prev=3,t.next=6,m.a.aftersales.close({"aftersales_bn":l});case 6:c.fetch(),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(3),console.log(t.t0);case 12:Object(a.a)();case 13:"contact"===e&&Object(r.a)({"phoneNumber":"021-61255625"}),"edit"===e&&s.a.navigateTo({"url":"/pages/trade/refund?aftersales_bn="+l+"&order_id="+o+"&item_id="+i}),"refund"===e&&s.a.navigateTo({"url":"/pages/trade/refund?order_id="+o+"&item_id="+i}),"refund_send"===e&&s.a.navigateTo({"url":"/pages/trade/refund-sendback?aftersales_bn="+l});case 17:case"end":return t.stop()}},_callee,t,[[3,9]])})),function(e){return n.apply(this,arguments)}),c.state={"info":null,"progress":0},c}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(TradeRefundDetail,s["a"].Component),h(TradeRefundDetail,[{"key":"componentDidMount","value":function componentDidMount(){this.fetch()}},{"key":"fetch","value":function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(){var e,t,n,a,r,s,c,l;return regeneratorRuntime.wrap(function _callee2$(o){for(;;)switch(o.prev=o.next){case 0:return e=this.$router.params,t=e.aftersales_bn,n=e.item_id,a=e.order_id,o.next=3,m.a.aftersales.info({"aftersales_bn":t,"item_id":n,"order_id":a});case 3:r=o.sent,s=r.aftersales,c=r.orderInfo,l=+s.progress,s.status_str=u.b[String(l)],s.creat_time_str=Object(f.f)(1e3*s.create_time),this.setState({"orderInfo":c,"info":s,"progress":l});case 10:case"end":return o.stop()}},_callee2,this)}));return function fetch(){return e.apply(this,arguments)}}()},{"key":"render","value":function render(){var e=this.state,t=e.info,n=(e.orderInfo,e.progress);return t?l.a.createElement(o.a,{"className":"trade-refund-detail"},l.a.createElement(o.a,{"className":"refund-status"},l.a.createElement(i.a,{"className":"refund-status__text text-status"},t.status_str),0==n?l.a.createElement(i.a,{"className":"refund-status__text"},"正在审核订单"):null,1==n?l.a.createElement(i.a,{"className":"refund-status__text"},"已接受申请，等回寄"):null,2==n?l.a.createElement(i.a,{"className":"refund-status__text"},"客户已回寄，等待商家收货确认"):null,3==n?l.a.createElement(i.a,{"className":"refund-status__text"},"申请已驳回"):null,4==n?l.a.createElement(i.a,{"className":"refund-status__text"},"物流信息：已发货"):null,5==n?l.a.createElement(i.a,{"className":"refund-status__text"},"时间"):null,6==n?l.a.createElement(i.a,{"className":"refund-status__text"},"时间"):null,7==n?l.a.createElement(i.a,{"className":"refund-status__text"},"时间"):null),l.a.createElement(o.a,{"className":"refund-detail"},0==n?l.a.createElement(i.a,{"className":"refund-detail__title"},"您已成功发起退款申请，请耐心等待商家处理"):null,l.a.createElement(i.a,{"className":"refund-detail__descr"},t.description),0==n?l.a.createElement(o.a,null,l.a.createElement(i.a,{"className":"refund-detail__btn","onClick":this.handleBtnClick.bind(this,"edit")},"修改申请"),l.a.createElement(i.a,{"className":"refund-detail__btn refund-detail__cancel","onClick":this.handleBtnClick.bind(this,"cancel")},"撤销申请")):null,3==n||5==n?l.a.createElement(o.a,null,l.a.createElement(i.a,{"className":"refund-detail__btn","onClick":this.handleBtnClick.bind(this,"refund")},"再次申请"),l.a.createElement(i.a,{"className":"refund-detail__btn refund-detail__cancel","onClick":this.handleBtnClick.bind(this,"cancel")},"撤销申请")):null,1==n?l.a.createElement(o.a,null,l.a.createElement(i.a,{"className":"refund-detail__btn","onClick":this.handleBtnClick.bind(this,"refund_send")},"填写物流信息"),l.a.createElement(i.a,{"className":"refund-detail__btn refund-detail__cancel","onClick":this.handleBtnClick.bind(this,"cancel")},"撤销申请")):null),l.a.createElement(o.a,{"className":"refund-detail-info"},l.a.createElement(o.a,{"className":"info-name"},"退款原因：",l.a.createElement(i.a,{"className":"info-value"},t.reason)),l.a.createElement(o.a,{"className":"info-name"},"申请时间：",l.a.createElement(i.a,{"className":"info-value"},t.creat_time_str)),l.a.createElement(o.a,{"className":"info-name"},"退款编号：",l.a.createElement(i.a,{"className":"info-value"},t.aftersales_bn))),l.a.createElement(d.f,null,l.a.createElement(d.e,{"iconPrefixClass":"in-icon","icon":"kefu","openType":"contact"}))):l.a.createElement(d.j,null)}},{"key":"componentDidShow","value":function componentDidShow(){}}]),TradeRefundDetail}()}}]);