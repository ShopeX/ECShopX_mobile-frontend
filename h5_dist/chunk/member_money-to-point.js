(window.webpackJsonp=window.webpackJsonp||[]).push([[54],{"661":function(e,t,n){},"773":function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return d});var a=n(346),r=n(3),o=n(4),i=n.n(o),c=n(735),s=n(416),l=n(413),u=n(405),m=n(731),f=n(6),p=n(352),h=n(17),y=(n(661),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}),b=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function step(a,r){try{var o=t[a](r),i=o.value}catch(e){return void n(e)}if(!o.done)return Promise.resolve(i).then(function(e){step("next",e)},function(e){step("throw",e)});e(i)}("next")})}}var d=function(e){function MoneyToPoint(e){var t=this;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,MoneyToPoint);var n=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(MoneyToPoint.__proto__||Object.getPrototypeOf(MoneyToPoint)).call(this,e));return n.handleChangeOtherNum=function(e){n.setState({"otherNumber":e})},n.handleClosePay=function(){n.setState({"isOpened":!1})},n.handleConfirmPay=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var e;return regeneratorRuntime.wrap(function _callee$(t){for(;;)switch(t.prev=t.next){case 0:return e={"money":100*n.state.otherNumber},t.prev=1,t.next=4,f.a.member.depositToPoint(e);case 4:n.setState({"isOpened":!1,"otherNumber":""}),Object(a.d)({"title":"兑换成功","icon":"none"}),setTimeout(function(){n.fetch()},700),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),console.log(t.t0);case 12:case"end":return t.stop()}},_callee,t,[[1,9]])})),n.handleClickPay=function(e){if(e<=0)return h.a.toast("请输入大于0的金额");n.setState({"isOpened":!0,"otherNumber":e})},n.state=y({},n.state,{"otherNumber":"","isOpened":!1,"totalPoint":0}),n}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(MoneyToPoint,r["a"].Component),b(MoneyToPoint,[{"key":"componentDidMount","value":function componentDidMount(){this.fetch()}},{"key":"fetch","value":function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(){var e,t;return regeneratorRuntime.wrap(function _callee2$(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,f.a.member.pointTotal();case 2:e=n.sent,t=e.point,this.setState({"totalPoint":t});case 5:case"end":return n.stop()}},_callee2,this)}));return function fetch(){return e.apply(this,arguments)}}()},{"key":"render","value":function render(){var e=this.state,t=e.otherNumber,n=e.isOpened,a=e.totalPoint;return i.a.createElement(c.a,{"className":"page-member-integral"},i.a.createElement(p.k,{"title":"积分充值","leftIconType":"chevron-left","fixed":"true"}),i.a.createElement(c.a,{"className":"member-integral__hd"},i.a.createElement(c.a,{"className":"integral-info"},i.a.createElement(c.a,{"className":"integral-number"},i.a.createElement(s.a,{"className":"sp-icon sp-icon-jifen1 icon-point"}," "),i.a.createElement(s.a,{"className":"integral-number__text"},a)),i.a.createElement(c.a,{"className":"integral-text"},"当前积分余额"))),i.a.createElement(c.a,{"className":"member-integral__bd"},i.a.createElement(c.a,{"className":"integral-sec integral-info__status"},i.a.createElement(c.a,{"className":"integral-sec__share"},"点击“立即兑换”即表示阅读并同意",i.a.createElement(s.a,null,"《兑换协议》"))),i.a.createElement(c.a,{"className":"integral-sec member-pay"},i.a.createElement(l.a,{"className":"otherNumber","title":"兑换金额","name":"otherNumber","type":"number","value":t,"placeholder":"请输入金额","onChange":this.handleChangeOtherNum}),i.a.createElement(c.a,{"className":"btns"},i.a.createElement(u.a,{"type":"primary","onClick":this.handleClickPay.bind(this,t)},"立即兑换"))),i.a.createElement(m.a,{"isOpened":n,"cancelText":"取消","confirmText":"确认","onClose":this.handleClosePay,"onCancel":this.handleClosePay,"onConfirm":this.handleConfirmPay,"content":"请确认是否将"+t+"元兑换成积分"})),i.a.createElement(p.s,null))}},{"key":"componentDidShow","value":function componentDidShow(){}}]),MoneyToPoint}()}}]);