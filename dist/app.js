"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function a(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,t,r){return t&&a(e.prototype,t),r&&a(e,r),e}}(),_index=require("./npm/@tarojs/taro-weapp/index.js"),_index2=_interopRequireDefault(_index),_index3=require("./spx/index.js"),_index4=_interopRequireDefault(_index3),_index5=require("./npm/@tarojs/redux/index.js"),_index6=require("./store/index.js"),_index7=_interopRequireDefault(_index6),_hooks=require("./hooks.js"),_hooks2=_interopRequireDefault(_hooks),_req=require("./api/req.js"),_req2=_interopRequireDefault(_req),_index8=require("./api/index.js"),_index9=_interopRequireDefault(_index8),_index10=require("./service/index.js");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _asyncToGenerator(e){return function(){var s=e.apply(this,arguments);return new Promise(function(n,o){return function t(e,r){try{var a=s[e](r),i=a.value}catch(e){return void o(e)}if(!a.done)return Promise.resolve(i).then(function(e){t("next",e)},function(e){t("throw",e)});n(i)}("next")})}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _configStore=(0,_index7.default)(),store=_configStore.store;(0,_index5.setStore)(store),(0,_hooks2.default)();var _App=function(e){function o(){var e,t,r;_classCallCheck(this,o);for(var a=arguments.length,i=Array(a),n=0;n<a;n++)i[n]=arguments[n];return(t=r=_possibleConstructorReturn(this,(e=o.__proto__||Object.getPrototypeOf(o)).call.apply(e,[this].concat(i)))).config={pages:["pages/index","pages/home/landing","pages/home/license","pages/category/index","pages/item/list","pages/item/espier-detail","pages/item/point-list","pages/item/point-detail","pages/item/group-list","pages/item/seckill-list","pages/item/seckill-goods-list","pages/home/coupon-home","pages/cart/espier-index","pages/cart/espier-checkout","pages/cart/coupon-picker","pages/article/index","pages/recommend/list","pages/recommend/detail","pages/auth/reg","pages/auth/reg-rule","pages/auth/login","pages/auth/forgotpwd","pages/auth/wxauth","pages/cashier/index","pages/cashier/cashier-result","pages/member/index","pages/member/point","pages/member/point-draw","pages/member/point-draw-detail","pages/member/draw-rule","pages/member/point-draw-order","pages/member/point-draw-record","pages/member/point-all-record","pages/member/point-draw-compute","pages/member/pay","pages/member/pay-rule","pages/member/money-to-point","pages/member/recharge","pages/member/recommend","pages/member/recommend-member","pages/member/recommend-order","pages/member/coupon","pages/member/address","pages/member/edit-address","pages/member/setting","pages/member/userinfo","pages/member/item-history","pages/member/item-fav","pages/member/item-guess","pages/distribution/index","pages/distribution/setting","pages/distribution/statistics","pages/distribution/trade","pages/distribution/subordinate","pages/distribution/withdraw","pages/distribution/withdrawals-record","pages/distribution/withdrawals-acount","pages/distribution/shop","pages/distribution/shop-setting","pages/distribution/shop-form","pages/distribution/qrcode","pages/distribution/shop-home","pages/store/index","pages/store/list","pages/trade/list","pages/trade/detail","pages/trade/delivery-info","pages/trade/rate","pages/trade/cancel","pages/trade/after-sale","pages/trade/refund","pages/trade/refund-detail","pages/trade/refund-sendback","pages/trade/invoice-list","pages/protocol/privacy"],permission:{"scope.userLocation":{desc:"您的位置信息将用于定位附近门店"}},navigateToMiniProgramAppIdList:["wx4721629519a8f25b","wx2fb97cb696f68d22","wxf91925e702efe3e3"],window:{backgroundTextStyle:"light",navigationBarBackgroundColor:"#fff",navigationBarTitleText:"ecshopX商城",navigationBarTextStyle:"black"}},_possibleConstructorReturn(r,t)}var t;return _inherits(o,_index.Component),_createClass(o,[{key:"componentWillMount",value:function(){}},{key:"componentDidMount",value:function(){this.fetchTabs()}},{key:"componentDidShow",value:function(e){_index10.FormIds.startCollectingFormIds(),_index4.default.getAuthToken()&&_index9.default.member.favsList().then(function(e){var t=e.list;t&&store.dispatch({type:"member/favs",payload:t})}).catch(function(e){console.info(e)});var t=(e||{}).referrerInfo;t&&console.log(t)}},{key:"componentDidHide",value:function(){_index10.FormIds.stop()}},{key:"fetchTabs",value:(t=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return"/pageparams/setting?template_name=yykweishop&version=v1.0.1&page_name=tabs",e.next=3,_req2.default.get("/pageparams/setting?template_name=yykweishop&version=v1.0.1&page_name=tabs");case 3:t=e.sent,store.dispatch({type:"tabBar",payload:t.list[0].params});case 5:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})},{key:"componentDidCatchError",value:function(){}},{key:"_createData",value:function(){}}]),o}();exports.default=_App,App(require("./npm/@tarojs/taro-weapp/index.js").default.createApp(_App)),_index2.default.initPxTransform({designWidth:750,deviceRatio:{640:1.17,750:1,828:.905}});